<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>JSDoc: Source: geometry/box.js</title>

  <script src="scripts/prettify/prettify.js"> </script>
  <script src="scripts/prettify/lang-css.js"> </script>
  <!--[if lt IE 9]>
   <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

  <h1 class="page-title">Source: geometry/box.js</h1>






  <section>
    <article>
      <pre class="prettyprint source linenums"><code> /**
  * Array of the indices of corners of each face of a cube.
  * @type {Array.&lt;number[]>}
  */
 var CUBE_FACE_INDICES = [
  [3, 7, 5, 1], // right
  [6, 2, 0, 4], // left
  [6, 7, 3, 2], // ??
  [0, 1, 5, 4], // ??
  [7, 6, 4, 5], // front
  [2, 3, 1, 0], // back
 ];


/**
  * Add `push` to a typed array. It just keeps a 'cursor'
  * and allows use to `push` values into the array so we
  * don't have to manually compute offsets
  * @param {TypedArray} typedArray TypedArray to augment
  * @param {number} numComponents number of components.
  */
 function augmentTypedArray(typedArray, numComponents) {
  var cursor = 0;
  typedArray.push = function() {
   for (var ii = 0; ii &lt; arguments.length; ++ii) {
    var value = arguments[ii];
    if (value instanceof Array ||(value.buffer &amp;&amp; value.buffer instanceof ArrayBuffer)) {
     for (var jj = 0; jj &lt; value.length; ++jj) {
      typedArray[cursor++] = value[jj];
     }
    } else {
     typedArray[cursor++] = value;
    }
   }
  };
  typedArray.reset = function(opt_index) {
   cursor = opt_index ||0;
  };
  typedArray.numComponents = numComponents;
  Object.defineProperty(typedArray, 'numElements', {
   get: function() {
    return this.length / this.numComponents | 0;
   },
  });
  return typedArray;
 }



function createAugmentedTypedArray(numComponents, numElements, opt_type) {
  var Type = opt_type ||Float32Array;
  return augmentTypedArray(new Type(numComponents * numElements), numComponents);
 }


/**
 * Creates the vertices and indices for a cube.
 *
 * The cube is created around the origin. (-size / 2, size / 2).
 *
 * @param {number} [size] width, height and depth of the cube.
 * @return {Object.&lt;string, TypedArray>} The created vertices.
 * @memberOf module:twgl/primitives
 */
function createCuboidVertices(width, height, depth) {
  width = width ||1;
  height = height ||1;
  depth = depth ||1;

  let kx = width / 2,
    ky = height / 2,
    kz = depth / 2;

  var cornerVertices = [
   [-kx, -ky, -kz],
   [+kx, -ky, -kz],
   [-kx, +ky, -kz],
   [+kx, +ky, -kz],
   [-kx, -ky, +kz],
   [+kx, -ky, +kz],
   [-kx, +ky, +kz],
   [+kx, +ky, +kz],
  ];

  var faceNormals = [
   [+1, +0, +0],
   [-1, +0, +0],
   [+0, +1, +0],
   [+0, -1, +0],
   [+0, +0, +1],
   [+0, +0, -1],
  ];

  var uvCoords = [
   [1, 0],
   [0, 0],
   [0, 1],
   [1, 1],
  ];

  var numVertices = 6 * 4;
  var positions = createAugmentedTypedArray(3, numVertices);
  var normals = createAugmentedTypedArray(3, numVertices);
  var texcoords = createAugmentedTypedArray(2, numVertices);
  var indices = createAugmentedTypedArray(3, 6 * 2, Uint16Array);

  for (var f = 0; f &lt; 6; ++f) {
    var faceIndices = CUBE_FACE_INDICES[f];
    for (var v = 0; v &lt; 4; ++v) {
      var position = cornerVertices[faceIndices[v]];
      var normal = faceNormals[f];
      var uv = uvCoords[v];

      // Each face needs all four vertices because the normals and texture
      // coordinates are not all the same.
      positions.push(position);
      normals.push(normal);
      texcoords.push(uv);

    }
    // Two triangles make a square face.
    var offset = 4 * f;
    indices.push(offset + 0, offset + 1, offset + 2);
    indices.push(offset + 0, offset + 2, offset + 3);
  }

  return {
    position: positions,
    normal: normals,
    texcoord: texcoords,
    indices: indices,
  };
}

module.exports = createCuboidVertices;
</code></pre>
    </article>
  </section>




</div>

<nav>
  <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ColorGradient.html">ColorGradient</a></li></ul><h3>Global</h3><ul><li><a href="global.html#augmentTypedArray">augmentTypedArray</a></li><li><a href="global.html#CUBE_FACE_INDICES">CUBE_FACE_INDICES</a></li></ul>
</nav>

<br class="clear">

<footer>
  Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Wed Mar 29 2017 13:15:48 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
